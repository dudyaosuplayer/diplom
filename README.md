# NeoHack project

## Работа с git

Для работы над проектом, вам понадобится установить систему контроля версий git.

1. Установите git согласно
   инструкции. [Ссылка на инструкцию.](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git)

2. Скопируйте (склонируйте) проект в рабочую папку на компьютере. Есть 2 возможных способа копирования: с помощью HTTPS
   и SSH. Для клонирования с использованием протокола HTTPS используйте логин и пароль от выданного репозитория. Для
   клонирования с помощью SSH, установите SSH ключи.
   Пример клонирования с помощью SSH
   можно [найти по ссылке](https://itisgood.ru/2021/10/14/kak-klonirovat-git-repozitorij-v-opredelennuju-papku/)
   Инструкцию по работе с SSH ключами можно
   найти [тут](https://docs.gitlab.com/ee/user/ssh.html#generate-an-ssh-key-pair)

3. Добавьте необходимые файлы в папку с проектом.

4. Сохраните изменения в папке командой `git commit -a -m"My first commit"`

5. Отправьте сохраненные изменения в репозиторий gitlab с помощью команды `git push`

Больше команд по работе с git вы можете узнать
из [шпаргалки](https://training.github.com/downloads/ru/github-git-cheat-sheet/)

## Шаблон проекта

Рекомендуется все работы вести в одном репозитории (монорепо)


## Рекомендации

Приложения предлагается разворачивать в kubernetes кластере, вам будет выдан конфиг kubernetes для доступа к выделенному неймспейсу (название по имени команды)
Домен для доступа к приложениям: *.nh2023.codenrock.com, для доступа к своему приложению рекомендуется в имени указывать название команды, или группы в гите - например cnrprod-team-999.nh2023.codenrock.com

## Подключение к kubernetes cluster

В качестве облачной инфраструктуры, вам выделен namespace в kubernetes cluster. При необходимости подключения,
воспользуйтесь клиентом kubectl и выданными доступами. Доступы даются на команду. Если у вас нет доступов, свяжитесь с
организатором.

Конфиг подключения будет выдан в виде файла `*.kube.config`. 

Состояние namespace, работающие pods и логи приложений можно посмотреть по адресу [https://dashboard.nh2023.codenrock.com/](https://dashboard.nh2023.codenrock.com/). Для открытия дашборда необходимо выбрать авторизацию через Kubeconfig и указать путь до выданного вам `*.kube.config` файла

### База данных
На каждую команду созданы базы данных Postgres. Доступы (login и password) выдаются на каждую команду организатором.

Для подключения к Postgres используйте следующую команду (для удобства имя базы данных совпадает с логином и именем группы в Gitlab):
```
psql "host=rc1b-m17jig7pms2njiie.mdb.yandexcloud.net \
      port=6432 \
      sslmode=verify-full \
      dbname=cnrprod-team-xxxxx \
      user=cnrprod-team-xxxxx \
      target_session_attrs=read-write"
```
`rc1b-m17jig7pms2njiie.mdb.yandexcloud.net ` - адрес хоста в кластере Yandex.Cloud. Подробнее в [документации](https://cloud.yandex.ru/docs/managed-postgresql/). Не забудьте скачать и установить [SSL сертификат](https://cloud.yandex.ru/docs/managed-postgresql/operations/connect#get-ssl-cert).

## Jupiter для Data-инженеров

Для работы Data-инженеров мы подготовили Jupiter.

Вход в Jupiter находится по ссылке [http://jupiter.nh2023.codenrock.com](http://jupiter.nh2023.codenrock.com)

Для авторизации используйте логин и пароль от выданного репозитория Gitlab.

## Данные для Data-инженеров

В рамках задачи, вам предлагается проанализировать определённый набор данных. Часть из них вы можете найти в описании
задачи (ссылки на .csv и .json файлы), а часть расположена в отдельной базе данных Postgres. Доступ к базе вы можете
получить у организаторов. Так же, эту базу данных можно использовать для логирования и других нужд.
